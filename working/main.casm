label exit = {
	native {
        halt;
    }
}
label DefaultInterruptHandler = {
	jp exit;
}
namespace Interrupt = {
	label Interrupt = {
		let mut set : Bool = false;
		jp def clear;
		jp def set;
		jp def get;
	}
}

/*
Interrupt(_) is equivalent for index => Interrupt(index);
_ is just a placeholder like in Scala.
*/
let mut array : [Interrupt; 256] = [Interrupt(_)];

// Usage
array[0].set(() => {
    // do stuff
});